<h1>This is the DEMONSTRATION show page </h1>

<div class="container">
  <%= @demonstration.title %>

  <%# <%= link_to "Save Demonstration",   @demonstration.bookmarks %>
  <%= @demonstration.description %>
  <%# <%= @demonstration.topic %>
  <%# <%= @demonstration.type %>
</div>

<div class="container">
  <%= @demonstration.start_time %>
  <%= @demonstration.location %>
</div>

<div id="map" style="width: 100%; height: 600px;"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">

</div>

<%= link_to "Delete",demonstration_path(@demonstration),
  data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}  %>

<%if current_user != nil%>
  <%  unless Bookmark.find_by(user_id: current_user.id, demonstration_id: @demonstration.id)  %>
    <%= link_to "Join", demonstration_bookmarks_path(@demonstration), data: { turbo_method: :post} %>
    <% else  %>
    <% bookmark = Bookmark.find_by(user_id: current_user.id, demonstration_id: @demonstration.id) %>
    <%= link_to "Leave", bookmark_path(bookmark), data: { turbo_method: :delete}%>
    <% end %>
<%else%>
  <%= link_to "Join", demonstration_bookmarks_path(@demonstration), data: { turbo_method: :post} %>
<%end%>

<%# CREATE destroy -
if current user - bookmark controller create - .where has bookedmarked the demonstration - yes -> display
link delete for bookmark, false - display link 16- create (participate) %>
